<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Smart-Paw ‚Äî Pet Identification</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body class="bg-white text-dark">
  <div id="app" class="d-flex flex-column vh-100">
    <main class="flex-grow-1 overflow-auto">
      <div class="container py-4">

        <!-- Home -->
        <section id="homeView">
          <h1 class="h4 fw-bold">Smart-Paw</h1>
          <p class="lead">Pet Identification System ‚Äî Santa Cruz, Marinduque</p>

          <div class="card mb-3">
            <div class="card-body d-flex align-items-center justify-content-between">
              <div>
                <h6 class="mb-0">Total Registered Pets</h6>
                <small class="text-muted">From localStorage</small>
              </div>
              <div>
                <span id="petCount" class="display-6">0</span>
              </div>
            </div>
          </div>

          <div id="recent" class="mt-3"></div>
        </section>

        <!-- Scan -->
        <section id="scanView" class="d-none">
          <h2 class="h5">Scan</h2>
          <div class="card mt-3">
            <div class="card-body">
              <div id="videoWrapper" class="ratio ratio-4x3 bg-black rounded overflow-hidden">
                <video id="video" autoplay playsinline></video>
              </div>

              <div class="mt-3 d-flex gap-2">
                <button id="btnStartCamera" class="btn btn-outline-dark">Start Camera</button>
                <button id="btnStopCamera" class="btn btn-outline-secondary d-none">Stop</button>
                <button id="btnSimulate" class="btn btn-maroon ms-auto">Simulate Recognition</button>
              </div>

              <div id="scanResult" class="mt-3"></div>
            </div>
          </div>
        </section>

        <!-- Register -->
        <section id="registerView" class="d-none">
          <h2 class="h5">Register Pet</h2>
          <div class="card mt-3">
            <div class="card-body">
              <form id="registerForm">
                <div class="mb-3">
                  <label class="form-label">Pet Name</label>
                  <input id="petName" class="form-control" required>
                </div>
                <div class="mb-3">
                  <label class="form-label">Breed</label>
                  <input id="petBreed" class="form-control" required>
                </div>
                <div class="mb-3">
                  <label class="form-label">Owner Name</label>
                  <input id="ownerName" class="form-control" required>
                </div>

                <div class="mb-3">
                  <label class="form-label">Photo</label>
                  <div class="d-flex gap-2 align-items-center">
                    <button id="btnOpenCamRegister" type="button" class="btn btn-outline-dark">Capture Photo</button>
                    <img id="photoPreview" src="" alt="" class="ms-2 rounded" style="height:64px;display:none">
                  </div>
                </div>

                <input type="hidden" id="photoData" />
                <div class="d-flex justify-content-end">
                  <button type="submit" class="btn btn-maroon">Save</button>
                </div>
              </form>
            </div>
          </div>
        </section>

      </div>
    </main>

    <!-- Bottom Navbar -->
    <nav class="navbar fixed-bottom navbar-light bg-white border-top">
      <div class="container d-flex justify-content-around py-2">
        <button class="nav-btn text-center" data-target="homeView" id="navHome">
          <div class="nav-icon">üè†</div>
          <div class="nav-label">Home</div>
        </button>
        <button class="nav-btn text-center" data-target="scanView" id="navScan">
          <div class="nav-icon">üì∑</div>
          <div class="nav-label">Scan</div>
        </button>
        <button class="nav-btn text-center" data-target="registerView" id="navRegister">
          <div class="nav-icon">‚ûï</div>
          <div class="nav-label">Register</div>
        </button>
      </div>
    </nav>

    <canvas id="captureCanvas" style="display:none"></canvas>
  </div>

  <script src="app.js"></script>
</body>
</html>
